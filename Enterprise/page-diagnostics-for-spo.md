---
title: Использование средства диагностики страниц для SharePoint Online
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
audience: Admin
ms.topic: article
ms.service: o365-administration
localization_priority: Normal
ms.collection: Ent_O365
search.appverid:
- MET150
- SPO160
- MOE150
- BSA160
ms.assetid: dbab2593-dc6a-40f7-adfe-031b9baa620f
description: Используйте средство диагностики страниц для SharePoint, чтобы проанализировать классические страницы с учетом рекомендуемых рекомендаций для SharePoint Online.
ms.openlocfilehash: f61d680ab4470429436cd0bb88925c2f1fc63323
ms.sourcegitcommit: 6b4c3a11ef7000480463d43a7a4bc2ced063efce
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/10/2019
ms.locfileid: "35616802"
---
# <a name="use-the-page-diagnostics-tool-for-sharepoint-online"></a><span data-ttu-id="c1462-103">Использование средства диагностики страниц для SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="c1462-103">Use the Page Diagnostics tool for SharePoint Online</span></span>

<span data-ttu-id="c1462-104">В этой статье описывается, как можно использовать средство диагностики страниц для анализа классических страниц и страниц публикации на классических сайтах группы на соответствие подмножеству рекомендаций в **SharePoint Online**.</span><span class="sxs-lookup"><span data-stu-id="c1462-104">This article describes how you can use the Page Diagnostic tool to analyze your classic publishing pages and pages on classic team sites, against a subset of recommended practices in **SharePoint Online**.</span></span> 
  
<span data-ttu-id="c1462-105">Сайты групп, для которых не включена публикация, не могут использовать сети CDN, но все остальные правила могут быть применены.</span><span class="sxs-lookup"><span data-stu-id="c1462-105">Team sites that don't have Publishing enabled cannot make use of CDNs but all of the remaining rules are applicable.</span></span> <span data-ttu-id="c1462-106">При публикации добавляются дополнительные затраты, поэтому не следует включать публикацию только для того, чтобы получить доступ к функциям CDN, так как она будет отрицательно влиять на время загрузки страницы.</span><span class="sxs-lookup"><span data-stu-id="c1462-106">Publishing adds additional overhead so do not turn on Publishing just to get the CDN functionality as it will negatively impact page load times.</span></span>

<span data-ttu-id="c1462-107">**Обратите внимание, что выпущена версия 1.05, поэтому обновите добавочный номер, если он уже установлен**.</span><span class="sxs-lookup"><span data-stu-id="c1462-107">**Please note that V1.05 has been released so please update your extension if you have it installed already**.</span></span> <span data-ttu-id="c1462-108">Если вы не знаете, какая версия у вас, щелкните ссылку "о программе", чтобы проверить ее.</span><span class="sxs-lookup"><span data-stu-id="c1462-108">If you are unsure which version you have then please click the "About" link to verify it.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="c1462-109">Средство диагностики страниц не будет работать с библиотеками документов или системными страницами, так как средство предназначено для просмотра страниц сайта SharePoint.</span><span class="sxs-lookup"><span data-stu-id="c1462-109">The Page Diagnostics tool will not run against document libraries or system pages, as the tool is designed to review SharePoint site pages.</span></span> <span data-ttu-id="c1462-110">Страница *AllItems. aspx* — это системная страница.</span><span class="sxs-lookup"><span data-stu-id="c1462-110">An  *allitems.aspx*  page is a system page.</span></span> <span data-ttu-id="c1462-111">При попытке запустить средство на системной странице вы получите сообщение "это приложение должно выполняться только на страницах SharePoint".</span><span class="sxs-lookup"><span data-stu-id="c1462-111">If you attempt to run the tool on a system page, you will get a message that reads, "This application should only be run on SharePoint pages."</span></span> <br/> <span data-ttu-id="c1462-112">![Должно выполняться на странице SharePoint](media/34aadfff-1009-496b-9c87-4fc2780e017c.png)</span><span class="sxs-lookup"><span data-stu-id="c1462-112">![Must run on a SharePoint page](media/34aadfff-1009-496b-9c87-4fc2780e017c.png)</span></span><br/><span data-ttu-id="c1462-113">Это не ошибка в средстве, так как для оценки библиотек или системных страниц отсутствует значение.</span><span class="sxs-lookup"><span data-stu-id="c1462-113">This is not an error in the tool as there is no value in assessing libraries or system pages.</span></span> <span data-ttu-id="c1462-114">Перейдите на несистемную страницу SharePoint, чтобы использовать средство.</span><span class="sxs-lookup"><span data-stu-id="c1462-114">Please navigate to a non-system SharePoint page to use the tool.</span></span> <span data-ttu-id="c1462-115">Если это происходит на странице SharePoint, проверьте MasterPage, так как мы видели, что клиенты удалили SharePoint Метатагс, а затем эта страница больше не является страницей SharePoint.</span><span class="sxs-lookup"><span data-stu-id="c1462-115">If this occurs on a SharePoint page then please check the MasterPage as we have seen Customers remove the SharePoint MetaTags and then the page is no longer a SharePoint page.</span></span> <span data-ttu-id="c1462-116">Вы хотите оставить отзыв о средстве, перейдите на вкладку о программе и перейдите по [ссылке Отправить отзыв](https://go.microsoft.com/fwlink/?linkid=874109).</span><span class="sxs-lookup"><span data-stu-id="c1462-116">Should you wish to give feedback about the tool please click the About tab and follow the [give feedback link](https://go.microsoft.com/fwlink/?linkid=874109).</span></span> 
  
## <a name="install-the-page-diagnostic-tool"></a><span data-ttu-id="c1462-117">Установка средства диагностики страниц</span><span class="sxs-lookup"><span data-stu-id="c1462-117">Install the Page Diagnostic tool</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c1462-118">Корпорация Майкрософт не читает данные или веб-сайты, которые вы посещаете, и не собираете никаких личных сведений, веб-сайта или сведений о загрузке с помощью этого средства.</span><span class="sxs-lookup"><span data-stu-id="c1462-118">Microsoft does not read the data or websites you visit, and we do not capture any personal information, website or download information with this tool.</span></span> <span data-ttu-id="c1462-119">Единственными сведениями, регистрируемыми средством, являются имя клиента, количество правил и возможность использования средства ведения журнала поддержки при запуске средства.</span><span class="sxs-lookup"><span data-stu-id="c1462-119">The only information logged by the tool is the Tenant name, Rule count and whether the support logging option has been utilized when the tool is run.</span></span> <span data-ttu-id="c1462-120">Эта информация предназначена для анализа проблем, с которыми сталкиваются наши клиенты, и обеспечения возможности ведения журнала поддержки.</span><span class="sxs-lookup"><span data-stu-id="c1462-120">This information is for Microsoft to analyze what challenges are being experienced by our Customers and to ensure the Support logging capability is not being misused.</span></span>

1. <span data-ttu-id="c1462-121">С помощью браузера Chrome напрямую откройте [ссылку на средство](https://chrome.google.com/webstore/detail/inahogkhlkbkjkkaleonemeijihmfagi) или откройте Поиск в [веб хранилище браузера Chrome](https://chrome.google.com/webstore/search/page%20diagnostics%20for%20sharepoint) и установите расширение браузера.</span><span class="sxs-lookup"><span data-stu-id="c1462-121">Using a Chrome browser, open the [link to the tool](https://chrome.google.com/webstore/detail/inahogkhlkbkjkkaleonemeijihmfagi) directly or open the Search in the [Chrome Browser WebStore](https://chrome.google.com/webstore/search/page%20diagnostics%20for%20sharepoint) and install the browser extension.</span></span> <span data-ttu-id="c1462-122">Ознакомьтесь с политикой конфиденциальности пользователя, указанной на странице Описание в магазине.</span><span class="sxs-lookup"><span data-stu-id="c1462-122">Please review the User Privacy Policy provided on the description page in the store.</span></span> <span data-ttu-id="c1462-123">При добавлении средства в браузер вы увидите следующее уведомление о разрешениях.</span><span class="sxs-lookup"><span data-stu-id="c1462-123">When adding the tool to your browser, you will see the following permissions notice.</span></span><br/><span data-ttu-id="c1462-124">![Разрешения для хранилища Chrome](media/e9fbcef0-1171-43ac-8ea8-c2b5be1b7925.png)</span><span class="sxs-lookup"><span data-stu-id="c1462-124">![Chrome Store permissions](media/e9fbcef0-1171-43ac-8ea8-c2b5be1b7925.png)</span></span><br/>   <span data-ttu-id="c1462-125">Это уведомление размещается, так как страница может содержать контент из расположений вне SharePoint в зависимости от веб-частей и настроек на странице.</span><span class="sxs-lookup"><span data-stu-id="c1462-125">This notice is in place because a page may contain content from locations outside of SharePoint depending on the webparts and customizations on the page.</span></span> <span data-ttu-id="c1462-126">Это означает, что средство будет считывать запросы и ответы при нажатии кнопки "Пуск" и только на активной вкладке SharePoint, где запущено средство.</span><span class="sxs-lookup"><span data-stu-id="c1462-126">This means that the tool will read the requests and responses when the start button is clicked and only for the active SharePoint tab where the tool is running.</span></span> <span data-ttu-id="c1462-127">Эти сведения записываются веб-браузером локально и доступны вам с помощью ссылки экспорт в JSON средства.</span><span class="sxs-lookup"><span data-stu-id="c1462-127">That information is captured locally by the web browser and is available to you via the Export to JSON link in the tool.</span></span> <span data-ttu-id="c1462-128">**Сведения не отправляются или не фиксируются корпорацией Майкрософт.**</span><span class="sxs-lookup"><span data-stu-id="c1462-128">**The information is not sent to or captured by Microsoft.**</span></span> <span data-ttu-id="c1462-129">(Средство учитывает политику конфиденциальности Майкрософт, доступную [здесь](https://go.microsoft.com/fwlink/p/?linkid=857875).)</span><span class="sxs-lookup"><span data-stu-id="c1462-129">(The tool respects the Microsoft Privacy policy accessible [here](https://go.microsoft.com/fwlink/p/?linkid=857875).)</span></span><br/><br/><span data-ttu-id="c1462-130">Функции "экспорт в JSON" в средстве также требуют разрешения "Управление загрузкой".</span><span class="sxs-lookup"><span data-stu-id="c1462-130">The "Export to JSON" functionality in the tool is also why the "Manage your downloads" permission is needed.</span></span> <span data-ttu-id="c1462-131">Прежде чем приступить к совместному использованию JSON-файла в Организации, следуйте собственным рекомендациям по обеспечению конфиденциальности, так как результаты содержат URL-адреса и могут классифицироваться как персональные данные (личные данные).</span><span class="sxs-lookup"><span data-stu-id="c1462-131">Please follow your Company's own Privacy guidelines before sharing the JSON file outside of your organization, as the results contain URLs and that can be classified as PII (Personally Identifiable Information).</span></span>
    
2. <span data-ttu-id="c1462-132">(Необязательно) Если вы хотите использовать средство в режиме Chrome инкогнито, перейдите к расширению и щелкните **Разрешить в инкогнито**.</span><span class="sxs-lookup"><span data-stu-id="c1462-132">(This is optional) If you want to use the tool in Chrome incognito mode, navigate to the extension and click **allow in incognito**.</span></span>
    
3. <span data-ttu-id="c1462-133">Перейдите на классический узел публикации SharePoint в SharePoint Online, который вы хотите просмотреть.</span><span class="sxs-lookup"><span data-stu-id="c1462-133">Navigate to the SharePoint classic publishing page on SharePoint Online that you would like to review.</span></span> <span data-ttu-id="c1462-134">Мы разрешили загрузку элементов на страницах с задержкой. Таким образом, **средство не будет автоматически остановлено**.</span><span class="sxs-lookup"><span data-stu-id="c1462-134">We have allowed for "delay loading" of items on pages; therefore, the **tool will not stop automatically**.</span></span> <span data-ttu-id="c1462-135">Если вы хотите остановить сбор, нажмите кнопку **остановить**.</span><span class="sxs-lookup"><span data-stu-id="c1462-135">Should you wish to stop collection, you can click **Stop**.</span></span> <span data-ttu-id="c1462-136">(Это разрабатывается для всех сценариев загрузки страниц.) Прежде чем нажать кнопку **остановить**, убедитесь в том, что данные трассировки сети завершены.</span><span class="sxs-lookup"><span data-stu-id="c1462-136">(This is by design to cater for all page load scenarios.) Before you click **Stop**, make sure that the network trace data is complete.</span></span> <span data-ttu-id="c1462-137">В противном случае у вас будет частичная трассировка.</span><span class="sxs-lookup"><span data-stu-id="c1462-137">Otherwise, you will have a partial trace.</span></span> <span data-ttu-id="c1462-138">Кроме того, средство является расширением браузера, и открытие нескольких вкладок или окон позволит запускать только один активный экземпляр средства одновременно.</span><span class="sxs-lookup"><span data-stu-id="c1462-138">Additionally, the tool is a Browser Extension, and opening multiple tabs or windows will only allow one active instance of the tool to be run at one time.</span></span> <span data-ttu-id="c1462-139">Это ограничение расширений в браузере.</span><span class="sxs-lookup"><span data-stu-id="c1462-139">This is a limitation of extensions in the browser.</span></span> 
  
4. <span data-ttu-id="c1462-140">Щелкните значок добавочного номера</span><span class="sxs-lookup"><span data-stu-id="c1462-140">Click on the Extension logo</span></span> ![Средство диагностики страниц для логотипа SharePoint](media/60a3e44d-1b59-483f-b50f-d580044d921a.png) <span data-ttu-id="c1462-142">чтобы загрузить средство и вы увидите следующее всплывающее окно расширения:</span><span class="sxs-lookup"><span data-stu-id="c1462-142">to load the tool and you will be presented with the following extension popup window:</span></span><br/> ![Всплывающее окно средства диагностики страниц](media/b01fa00e-c5f3-4c37-91f2-6edd096cf87e.png)<br/><span data-ttu-id="c1462-144">Операции запуска и остановки соответствуют базовой концепции при нажатии кнопки запустить страницу будет перезагружена, и начнется сбор коллекции.</span><span class="sxs-lookup"><span data-stu-id="c1462-144">Start and stop operations follow the basic concept of when you click start the page will reload and collection will begin.</span></span>

<span data-ttu-id="c1462-145">Ознакомьтесь со следующими разделами, чтобы узнать больше о сведениях, предоставленных в средстве.</span><span class="sxs-lookup"><span data-stu-id="c1462-145">Read the following sections to learn more about the information provided in the tool.</span></span>

## <a name="what-youll-see-in-the-page-diagnostics-tool"></a><span data-ttu-id="c1462-146">Сведения, которые вы увидите в средстве диагностики страниц</span><span class="sxs-lookup"><span data-stu-id="c1462-146">What you'll see in the Page Diagnostics tool</span></span>
    
1. <span data-ttu-id="c1462-147">Ссылка " **о программе** " предоставит общие сведения о средстве, в том числе ссылку на эту статью.</span><span class="sxs-lookup"><span data-stu-id="c1462-147">The **About** link will provide general guidance and details regarding the tool including a link back to this article.</span></span> <span data-ttu-id="c1462-148">Кроме того, он содержит прямую ссылку на рекомендации по повышению производительности SharePoint, уведомление третьих лиц и возможность предоставления отзыва о средстве.</span><span class="sxs-lookup"><span data-stu-id="c1462-148">It also includes a direct link to SharePoint Performance recommendations, a Third Party notice and an option to provide feedback about the tool.</span></span> 
    
2. <span data-ttu-id="c1462-149">**Идентификатор корреляции, SPRequestDuration, спиислатенци**, **время загрузки страницы**и сведения об **URL-адресе** являются информационными и могут использоваться в нескольких целях.</span><span class="sxs-lookup"><span data-stu-id="c1462-149">The **Correlation ID, SPRequestDuration, SPIISLatency**, **Page load time**, and **URL** details are informational and can be used for a few purposes.</span></span> 
    
  - <span data-ttu-id="c1462-150">**CorrelationId** является важным элементом при работе с командами поддержки Майкрософт, так как он позволяет им извлекать дополнительные диагностические данные.</span><span class="sxs-lookup"><span data-stu-id="c1462-150">**CorrelationID** is an important element when working with the Microsoft Support Teams as it allows them to pull additional diagnostic data.</span></span> 
    
  - <span data-ttu-id="c1462-151">**SPRequestDuration** это время сервера, затраченное на обработку страницы.</span><span class="sxs-lookup"><span data-stu-id="c1462-151">**SPRequestDuration** is the server time taken to process the page.</span></span> <span data-ttu-id="c1462-152">Если это время слишком длинное, это не обязательно означает, что сервер выполнял неправильное, но также может отражать количество вызовов и загрузку, отправленных страницей на сервер, например структурную навигацию, крупные изображения, множество вызовов API, которые могут работать дольше, чем на сервере. .</span><span class="sxs-lookup"><span data-stu-id="c1462-152">If this time is long, it does not necessarily mean that the server was performing badly but can also reflect the number of calls and load pushed by the page to the server e.g. Structural Navigation, large images, lots of API calls could all contribute to longer server time.</span></span> 
    
  - <span data-ttu-id="c1462-153">**Спиислатенци** — это время (в миллисекундах), затраченное на интерфейсный веб-сервер при получении запроса на загрузку страницы.</span><span class="sxs-lookup"><span data-stu-id="c1462-153">**SPIISLatency** is the time in milliseconds taken on the Web Front End Server when it receives the request to load the page.</span></span> <span data-ttu-id="c1462-154">Это индикатор задержки для запуска обработки страницы и не включает время, затрачиваемое на отклик веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="c1462-154">This is an indicator of latency to start processing the page and does not include the time taken for the web application to respond.</span></span> 
    
  - <span data-ttu-id="c1462-155">**Время загрузки страницы** — это время, записанное страницей с момента запроса до момента получения и просмотра ответа браузером.</span><span class="sxs-lookup"><span data-stu-id="c1462-155">**Page load time** is the time recorded by the page from the time of the request to the time the response was received and read by the browser.</span></span> <span data-ttu-id="c1462-156">На любое дополнительное время влияют производительность компьютера и время, необходимое для загрузки браузера.</span><span class="sxs-lookup"><span data-stu-id="c1462-156">Any additional time is affected by the performance of the computer and the time it takes for the browser to load.</span></span> 
    
  - <span data-ttu-id="c1462-157">**URL-адрес** (Uniform Resource Locator) — это веб-адрес текущей страницы.</span><span class="sxs-lookup"><span data-stu-id="c1462-157">The **URL** (Uniform Resource Locator) is the web address of the current page.</span></span> 
    
3. <span data-ttu-id="c1462-158">На [вкладке **Диагностика** ](#how-to-use-the-diagnostic-tab) выводятся правила, а если какие-либо из них помечены ![красным](media/9859ac84-be43-4eae-984c-e0e827f5a228.png)крестиком, на странице обнаружены проблемы.</span><span class="sxs-lookup"><span data-stu-id="c1462-158">The [**Diagnostic** tab](#how-to-use-the-diagnostic-tab) will list the rules and if any of them are marked with a red ![Cross](media/9859ac84-be43-4eae-984c-e0e827f5a228.png), then there are issues identified on the page.</span></span><br/><span data-ttu-id="c1462-159">Каждое правило имеет собственную ссылку "Дополнительные сведения", которую вы щелкните, если элемент красного цвета.</span><span class="sxs-lookup"><span data-stu-id="c1462-159">Each rule has its own "more information" link that you click if an item is red.</span></span> <span data-ttu-id="c1462-160">Откроется информация, относящаяся к этому правилу, и способ устранения проблемы.</span><span class="sxs-lookup"><span data-stu-id="c1462-160">That will take you to the details behind that rule and how to remediate the issue.</span></span><br/><span data-ttu-id="c1462-161">![Диагностика Red — правило открыто](media/1598f0f7-3103-4613-8787-dfec6fffd40a.png)</span><span class="sxs-lookup"><span data-stu-id="c1462-161">![Diagnostics Red - Rule open](media/1598f0f7-3103-4613-8787-dfec6fffd40a.png)</span></span>

4. <span data-ttu-id="c1462-162">На [вкладке **Трассировка сети** ](#how-to-use-the-network-trace-tab) представлены сведения о запросах и ответах на построение страниц.</span><span class="sxs-lookup"><span data-stu-id="c1462-162">A [**Network trace** tab](#how-to-use-the-network-trace-tab) provides details about page build requests and responses.</span></span>

## <a name="how-to-use-the-diagnostic-tab"></a><span data-ttu-id="c1462-163">Использование вкладки диагностики</span><span class="sxs-lookup"><span data-stu-id="c1462-163">How to use the Diagnostic tab</span></span>

1. <span data-ttu-id="c1462-164">**Проверка выполнения от имени обычного пользователя**  Для проверки производительности страницы не следует выполнять вход в качестве учетной записи службы, администратора или администратора семейства веб-сайтов или любой учетной записи с повышенными привилегиями.</span><span class="sxs-lookup"><span data-stu-id="c1462-164">**Check Running as Standard User**  Checking page performance should not be performed when logged in as a Service Account, Administrator or Site Collection Administrator, or any account with elevated privileges.</span></span> <span data-ttu-id="c1462-165">Дополнительные скрипты и функции загружаются специально для этих типов учетных записей, поэтому результаты не будут иметь представление о том, что производительность страницы является истинной.</span><span class="sxs-lookup"><span data-stu-id="c1462-165">Additional scripts and functionality are loaded specifically for those types of accounts, so the results will not be a true representation of page performance.</span></span>
    
2. <span data-ttu-id="c1462-166">**Проверка запросов к SharePoint**  Количество данных и запросов, выполняемых на сервере, должно быть ограничено, так как перегруженная страница будет испытывать низкую производительность.</span><span class="sxs-lookup"><span data-stu-id="c1462-166">**Check Requests to SharePoint**  The amount of data and requests made to the server should be limited as an overloaded page will experience poor performance.</span></span> <span data-ttu-id="c1462-167">Эта проверка проверяет количество запросов, выполняемых в SharePoint, и выдает рекомендации, когда запросы превышают 6 запросов.</span><span class="sxs-lookup"><span data-stu-id="c1462-167">This check verifies the number of requests being made to SharePoint and will advise when the requests exceed 6 requests.</span></span> <span data-ttu-id="c1462-168">Большинство запросов должны кэшироваться и, следовательно, не вызываться для каждой нагрузки страницы.</span><span class="sxs-lookup"><span data-stu-id="c1462-168">Most requests should be cached and therefore not called for every page load.</span></span> <span data-ttu-id="c1462-169">Кэш должен быть настроен и использоваться по крайней мере в течение 15 минут, чтобы уменьшить количество вызовов на страницу каждым и каждым пользователем.</span><span class="sxs-lookup"><span data-stu-id="c1462-169">Cache should be setup and utilized for at least 15 minutes to reduce the amount of calls to a page by each and every User.</span></span> <span data-ttu-id="c1462-170">Это распространенная проблема, и в большинстве случаев данные изменяются ежедневно, но страница проверяет и извлекает данные каждый раз для каждого пользователя, который часто не нужен.</span><span class="sxs-lookup"><span data-stu-id="c1462-170">This is a common problem and in most cases data only changes daily but the page checks and fetches data each time for each page for each user which is often unnecessary.</span></span>
    
3. <span data-ttu-id="c1462-171">**Проверка использования сети CDN**  Сети доставки контента (сети CDN) были предоставлены корпорацией Майкрософт, а упомянутые ниже, — это сети доставки содержимого SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="c1462-171">**Check using CDNs**  Content Delivery networks (CDNs) have been provided by Microsoft and the ones referred to here are the SharePoint Online Content Delivery Networks.</span></span> <span data-ttu-id="c1462-172">Существует несколько типов, а также различные службы CDN, такие как SharePoint сети CDN, а затем сети CDN в Azure.</span><span class="sxs-lookup"><span data-stu-id="c1462-172">There are multiple types available as well as different CDN services like SharePoint CDNs and then CDNs in Azure.</span></span> <span data-ttu-id="c1462-173">[Воспользуйтесь приведенными ниже рекомендациями](https://go.microsoft.com/fwlink/?linkid=873250).</span><span class="sxs-lookup"><span data-stu-id="c1462-173">[Use the following guidance](https://go.microsoft.com/fwlink/?linkid=873250).</span></span>
    
4. <span data-ttu-id="c1462-174">**Проверка крупных размеров изображений**  Изображения следует оптимизировать для веб-сайта, используя улучшенные веб-типы, например PNG.</span><span class="sxs-lookup"><span data-stu-id="c1462-174">**Check for Large Image Sizes**  Images should be optimized for web by utilizing better web types like PNG.</span></span> <span data-ttu-id="c1462-175">Представления изображений также следует использовать и доступны непосредственно в SharePoint.</span><span class="sxs-lookup"><span data-stu-id="c1462-175">Image renditions should also be utilized and is available in SharePoint directly.</span></span> <span data-ttu-id="c1462-176">Изображения/представления изображений, размер которых превышает 100kb, будут выделены как неоптимизированные для веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="c1462-176">Images / image renditions larger than 100kb will be highlighted as not optimized for web.</span></span> <span data-ttu-id="c1462-177">[Для оптимизации изображений используйте следующие рекомендации](https://go.microsoft.com/fwlink/?linkid=873251).</span><span class="sxs-lookup"><span data-stu-id="c1462-177">[Use the following guidance for optimizing images](https://go.microsoft.com/fwlink/?linkid=873251).</span></span>
    
5. <span data-ttu-id="c1462-178">**Проверка структуры навигации**  Структурная навигация изначально разработана для использования в локальной среде SharePoint, где можно использовать кэш объектов.</span><span class="sxs-lookup"><span data-stu-id="c1462-178">**Check for Structural Navigation**  Structural Navigation was originally designed for use in SharePoint on-Premises where object cache could be utilized.</span></span> <span data-ttu-id="c1462-179">Структурная навигация не рекомендуется для использования в SharePoint Online и должна быть заменена управляемой навигацией или настраиваемым поставщиком.</span><span class="sxs-lookup"><span data-stu-id="c1462-179">Structural Navigation is not recommended for use in SharePoint Online and should be changed to Managed Navigation or a Custom Provider.</span></span> [<span data-ttu-id="c1462-180">Для оптимизации навигации используйте следующие рекомендации.</span><span class="sxs-lookup"><span data-stu-id="c1462-180">Use the following guidance for optimizing navigation.</span></span>](https://go.microsoft.com/fwlink/?linkid=873247)
    
6. <span data-ttu-id="c1462-181">**Проверка веб-части КБК** (КБК — веб-часть "контент по запросу")  Веб-часть "контент по запросу" создает высокую нагрузку SQL, так как она проходит все элементы в запросе для каждой нагрузки на каждую страницу, для каждого пользователя.</span><span class="sxs-lookup"><span data-stu-id="c1462-181">**Check for CBQ WebPart** (CBQ - Content by Query WebPart)  The Content by Query WebPart generates a high SQL load as it traverses all items in the query for each and every page load, for each User.</span></span> <span data-ttu-id="c1462-182">В отличие от локальной установки, отсутствует доступный кэш для ограничения числа запросов, необходимых для заполнения этой веб-части.</span><span class="sxs-lookup"><span data-stu-id="c1462-182">Unlike an on-Premises installation, there is no cache available to limit the number of queries needed to populate this WebPart.</span></span> <span data-ttu-id="c1462-183">Так как такой КБК работает медленно и влияет на общую производительность страницы, поэтому его не следует использовать.</span><span class="sxs-lookup"><span data-stu-id="c1462-183">As such CBQ performs slowly and impacts overall page performance which is why it should not be utilized.</span></span> <span data-ttu-id="c1462-184">Используйте веб-часть "поиск контента" (CSWP) в качестве замены для веб-части "Запрос контента".</span><span class="sxs-lookup"><span data-stu-id="c1462-184">Please use the Content Search WebPart (CSWP) as the replacement for the Content Query WebPart.</span></span> <span data-ttu-id="c1462-185">[Используйте следующие рекомендации, связанные с веб-частью "поиск контента"](https://go.microsoft.com/fwlink/?linkid=873245).</span><span class="sxs-lookup"><span data-stu-id="c1462-185">[Use the following guidance related to the Content Search WebPart](https://go.microsoft.com/fwlink/?linkid=873245).</span></span>

## <a name="how-to-use-the-network-trace-tab"></a><span data-ttu-id="c1462-186">Использование вкладки "Трассировка сети"</span><span class="sxs-lookup"><span data-stu-id="c1462-186">How to use the Network Trace tab</span></span>
    
<span data-ttu-id="c1462-187">На вкладке **Трассировка сети** содержатся подробные сведения о запросах на создание страницы, а также о полученных ответах.</span><span class="sxs-lookup"><span data-stu-id="c1462-187">The **Network Trace** tab provides detailed information about the requests to build the page as well as the responses received.</span></span> 

1. <span data-ttu-id="c1462-188">**Найдите время загрузки элементов, помеченное красным цветом**.</span><span class="sxs-lookup"><span data-stu-id="c1462-188">**Look for item load times flagged as red**.</span></span> <span data-ttu-id="c1462-189">Производительность каждого запроса и ответа зависит от их влияния на общую производительность страницы следующим образом:</span><span class="sxs-lookup"><span data-stu-id="c1462-189">The performance of each request and response are color coded, based on their impact on the overall page performance  as follows:</span></span>
- <span data-ttu-id="c1462-190">Зеленый: \< 500ms</span><span class="sxs-lookup"><span data-stu-id="c1462-190">Green: \< 500ms</span></span>
- <span data-ttu-id="c1462-191">Желтый: 500 — 1000ms</span><span class="sxs-lookup"><span data-stu-id="c1462-191">Yellow: 500-1000ms</span></span>
- <span data-ttu-id="c1462-192">Красный: \> 1000ms</span><span class="sxs-lookup"><span data-stu-id="c1462-192">Red: \> 1000ms</span></span>
<br/><span data-ttu-id="c1462-193">![Трассировка сети](media/3cfede99-7d31-4041-888d-7bbc275cadc2.png)</span><span class="sxs-lookup"><span data-stu-id="c1462-193">![Network Trace](media/3cfede99-7d31-4041-888d-7bbc275cadc2.png)</span></span><br/> <span data-ttu-id="c1462-194">На изображенном выше изображении красный элемент относится к странице по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="c1462-194">In the image shown above, the red item pertains to the default page.</span></span> <span data-ttu-id="c1462-195">Он всегда отображается красным цветом, если страница не загружается в \< 1000ms (не менее 1 секунды).</span><span class="sxs-lookup"><span data-stu-id="c1462-195">It will always show red unless the page loads in \< 1000ms (less than 1 second).</span></span>

2. <span data-ttu-id="c1462-196">**Время загрузки тестового элемента**.</span><span class="sxs-lookup"><span data-stu-id="c1462-196">**Test item load times**.</span></span> <span data-ttu-id="c1462-197">В некоторых случаях нет времени или индикатора цвета, так как элементы уже были кэшированы браузером.</span><span class="sxs-lookup"><span data-stu-id="c1462-197">In some cases there will be no time or color indicator because the items have already been cached by the browser.</span></span> <span data-ttu-id="c1462-198">Чтобы правильно проверить это, откройте страницу, очистите кэш браузера, а затем нажмите кнопку **запустить** , чтобы выполнить загрузку страницы "холодно" и иметь истинное отражение начальной загрузки страницы.</span><span class="sxs-lookup"><span data-stu-id="c1462-198">To test this correctly, open the page, clear browser cache, and then click **Start** as that will force a "cold" page load and be a true reflection of the initial page load.</span></span> <span data-ttu-id="c1462-199">В этом случае необходимо сравнить загрузку страницы "теплый", так как она также поможет определить, какие элементы кэшируются на странице.</span><span class="sxs-lookup"><span data-stu-id="c1462-199">This should then be compared to the "warm" page load as that will also help determine what items are being cached on the page.</span></span> 
    
3. <span data-ttu-id="c1462-200">**Поделитесь соответствующими сведениями с другими пользователями, которые могут помочь в исследовании проблем**.</span><span class="sxs-lookup"><span data-stu-id="c1462-200">**Share relevant details with others who can help investigate issues**.</span></span> <span data-ttu-id="c1462-201">Чтобы поделиться сведениями или сведениями, предоставленными в инструменте, с разработчиками или специалистами службы технической поддержки, нажмите **экспортировать в JSON** (как показано на рисунке выше).</span><span class="sxs-lookup"><span data-stu-id="c1462-201">To share the details or information provided in the tool with your developers or a technical support person, click **Export to JSON** (as shown in the image above).</span></span> <span data-ttu-id="c1462-202">Это позволит скачать результаты, отображаемые с помощью средства просмотра файлов JSON.</span><span class="sxs-lookup"><span data-stu-id="c1462-202">That will enable you to download the results, viewable with a JSON file viewer.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c1462-203">Эти результаты содержат URL-адреса и могут классифицироваться как персональные данные (персональные данные).</span><span class="sxs-lookup"><span data-stu-id="c1462-203">These results contain URLs and that can be classified as PII (Personally Identifiable Information).</span></span> <span data-ttu-id="c1462-204">Перед распространением этих сведений обязательно следуйте указаниям Организации.</span><span class="sxs-lookup"><span data-stu-id="c1462-204">Make sure to follow your organization's guidelines before distributing that information.</span></span> 

## <a name="engaging-with-microsoft-support"></a><span data-ttu-id="c1462-205">Эффект от поддержки корпорации Майкрософт</span><span class="sxs-lookup"><span data-stu-id="c1462-205">Engaging with Microsoft Support</span></span>
   
<span data-ttu-id="c1462-206">Мы включили **функцию уровня поддержки Майкрософт** , которую следует использовать только при работе непосредственно в случае поддержки для повышения производительности.</span><span class="sxs-lookup"><span data-stu-id="c1462-206">We have included a **Microsoft Support level feature** that should only be utilized when working directly on a Support Case for performance.</span></span> <span data-ttu-id="c1462-207">Использование этой функции не дает никаких преимуществ при отсутствии поддержки нашей группы поддержки.</span><span class="sxs-lookup"><span data-stu-id="c1462-207">Utilizing this feature will provide no benefit to you when used without our Support team.</span></span> <span data-ttu-id="c1462-208">На самом деле страница будет выполняться значительно медленнее, и продолжение использования функции может быть "неправильным".</span><span class="sxs-lookup"><span data-stu-id="c1462-208">It will in fact make the page perform significantly slower and continued use of the feature may be considered "misuse" of the service.</span></span> <span data-ttu-id="c1462-209">При использовании этой функции в средстве нет дополнительной информации о том, что дополнительные сведения добавляются в журнал службы.</span><span class="sxs-lookup"><span data-stu-id="c1462-209">There is no additional information when using this feature in the tool as the additional information is added to the logging in the service.</span></span> 

<span data-ttu-id="c1462-210">Изменения не отображаются, Кроме того, вы будете уведомлены о том, что вы включили его, и производительность страницы будет значительно снижена за счет 2-3 медленнее, чем включено.</span><span class="sxs-lookup"><span data-stu-id="c1462-210">No change is visible except that you will be notified that you have enabled it and your page performance will be significantly degraded by 2-3 times slower performance whilst that is enabled.</span></span> <span data-ttu-id="c1462-211">Она будет релевантна только для конкретной страницы и активного сеанса.</span><span class="sxs-lookup"><span data-stu-id="c1462-211">It will only be relevant for the particular page and that active session.</span></span> <span data-ttu-id="c1462-212">По этой причине этот параметр следует использовать только в том случае, если он активно вовлечен в нашу службу поддержки.</span><span class="sxs-lookup"><span data-stu-id="c1462-212">For this reason, this should be used sparingly and only when actively engaged with our Support Team.</span></span>

### <a name="to-enable-the-microsoft-support-level-feature"></a><span data-ttu-id="c1462-213">Включение функции уровня поддержки Майкрософт</span><span class="sxs-lookup"><span data-stu-id="c1462-213">To enable the Microsoft Support level feature</span></span>

1. <span data-ttu-id="c1462-214">Откройте средство диагностики страниц.</span><span class="sxs-lookup"><span data-stu-id="c1462-214">Open the Page Diagnostics tool.</span></span>
2. <span data-ttu-id="c1462-215">На клавиатуре нажмите клавиши ALT + SHIFT + L.</span><span class="sxs-lookup"><span data-stu-id="c1462-215">On your keyboard, press ALT-Shift-L.</span></span> <span data-ttu-id="c1462-216">Будет отображено **ведение журнала на уровне поддержки**.</span><span class="sxs-lookup"><span data-stu-id="c1462-216">This will display **Enable support level logging**.</span></span> 
3. <span data-ttu-id="c1462-217">Установите флажок, а затем нажмите кнопку **Пуск** , чтобы перегрузить страницу и создать подробное ведение журнала для поддержки анализа.</span><span class="sxs-lookup"><span data-stu-id="c1462-217">Select the checkbox, and then click **start** to reload the page and generate verbose logging for Support to analyze.</span></span><br/><span data-ttu-id="c1462-218">![Включен параметр поддержки](media/ddef47de-8593-4b28-9346-eb48ebf6cdab.png)</span><span class="sxs-lookup"><span data-stu-id="c1462-218">![Support Option Enabled](media/ddef47de-8593-4b28-9346-eb48ebf6cdab.png)</span></span>
  
<span data-ttu-id="c1462-219">Важный элемент — это элемент CorrelationID, который Группа поддержки будет использовать этот номер для извлечения необходимой информации.</span><span class="sxs-lookup"><span data-stu-id="c1462-219">An important element for this is the CorrelationID as the Support team will then utilize that number to extract the information needed.</span></span> <span data-ttu-id="c1462-220">Скопируйте CorrelationID (в начале средства диагностики страницы) и обеспечьте поддержку, так как не удается выполнить требуемую работу без полного идентификатора.</span><span class="sxs-lookup"><span data-stu-id="c1462-220">Please copy the CorrelationID (at the top of the Page Diagnostics tool) and provide that to Support as they cannot perform the required work without the complete ID.</span></span>
    
## <a name="related-topics"></a><span data-ttu-id="c1462-221">Статьи по теме</span><span class="sxs-lookup"><span data-stu-id="c1462-221">Related topics</span></span>

[<span data-ttu-id="c1462-222">Настройка производительности SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="c1462-222">Tune SharePoint Online performance</span></span>](tune-sharepoint-online-performance.md)

[<span data-ttu-id="c1462-223">Настройка производительности Office 365</span><span class="sxs-lookup"><span data-stu-id="c1462-223">Tune Office 365 performance</span></span>](tune-office-365-performance.md)

[<span data-ttu-id="c1462-224">Сети доставки содержимого</span><span class="sxs-lookup"><span data-stu-id="c1462-224">Content delivery networks</span></span>](content-delivery-networks.md)
