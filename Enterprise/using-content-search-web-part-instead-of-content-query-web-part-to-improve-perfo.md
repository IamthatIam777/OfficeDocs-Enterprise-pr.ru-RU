---
title: Использование веб-части поиска контента вместо веб-части "Запрос контента" для улучшения производительности в SharePoint Online
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 4/20/2015
audience: Admin
ms.topic: article
ms.service: o365-administration
localization_priority: Normal
ms.collection: Ent_O365
ms.custom: Adm_O365
search.appverid:
- MET150
- SPO160
ms.assetid: e8ce6b72-745b-464a-85c7-cbf6eb53391b
description: В этой статье описывается, как повысить производительность, заменив веб-часть "запрос содержимого" на веб-часть "поиск контента" в SharePoint Server 2013 и SharePoint Online.
ms.openlocfilehash: b50bc3b2e62d058384e48752d77407bc19354f4b
ms.sourcegitcommit: 6b4c3a11ef7000480463d43a7a4bc2ced063efce
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/10/2019
ms.locfileid: "35616772"
---
# <a name="using-content-search-web-part-instead-of-content-query-web-part-to-improve-performance-in-sharepoint-online"></a>Использование веб-части поиска контента вместо веб-части "Запрос контента" для улучшения производительности в SharePoint Online

В этой статье описывается, как повысить производительность, заменив веб-часть "запрос содержимого" на веб-часть "поиск контента" в SharePoint Server 2013 и SharePoint Online.
  
Одной из самых мощных новых функций SharePoint Server 2013 и SharePoint Online является веб-часть поиска контента (CSWP). Эта веб-часть использует индекс поиска для быстрого извлечения результатов, отображаемых для пользователя. Используйте веб-часть "поиск контента", а не веб-часть "запрос содержимого" (CQWP) на страницах, чтобы увеличить производительность для пользователей.
  
Использование веб-части поиска контента по сравнению с веб-частью "запрос содержимого" почти всегда приводит к значительному повышению производительности загрузки страниц в SharePoint Online. Чтобы получить правильный запрос, существует немного дополнительная настройка, но повышение производительности повышает производительность и довольные пользователи.
  
## <a name="comparing-the-performance-gain-you-get-from-using-content-search-web-part-instead-of-content-query-web-part"></a>Сравнение повышения производительности с использованием веб-части "поиск контента" вместо веб-части "Запрос контента"

В следующих примерах показано снижение производительности, которое может быть получено при использовании веб-части "поиск контента" вместо веб-части "запрос содержимого". Эти эффекты более очевидны с помощью сложной структуры сайта и очень широкого спектра запросов к содержимому.
  
Этот пример сайта имеет следующие характеристики:
  
- 8 уровней дочерних сайтов.
    
- Списки, использующие настраиваемый тип контента "фруктов".
    
- В веб-части Запрос контента является широким, возвращая все элементы с типом контента "фруктов".
    
- В этом примере используются только элементы 50 на 8 сайтах. Эти эффекты станут еще более выраженными для сайтов с большим содержимым.
    
Ниже приведен снимок результатов веб-части "запрос содержимого".
  
![Рисунок: запрос контента для веб-части](media/b3d41f20-dfe5-46ed-9c0a-31057e82de33.png)
  
В Internet Explorer используйте вкладку **сеть** в средствах разработчика F12, чтобы просмотреть сведения о заголовке отклика. На следующем снимке экрана значение **SPRequestDuration** для этой страницы загружается 924 миллисекунд. 
  
![Снимок экрана со значением длительности запроса (924)](media/343571f2-a249-4de2-bc11-2cee93498aea.png)
  
 **SPRequestDuration** указывает объем трудозатрат, выполняемых на сервере для подготовки страницы. Переключение контента по веб-частям запроса с контентом с помощью веб-частей поиска значительно сокращает время, необходимое для отображения страницы. В отличие от того, что страница с эквивалентной веб-частью поиска контента возвращает такое же количество результатов, значение **SPRequestDuration** равно 106 миллисекунд, как показано на следующем снимке экрана: 
  
![Снимок экрана со значением длительности запроса (106)](media/b46387ac-660d-4e5e-a11c-cc430e912962.png)
  
## <a name="adding-a-content-search-web-part-in-sharepoint-online"></a>Добавление веб-части поиска контента в SharePoint Online

Добавление веб-части поиска контента очень похоже на стандартную веб-часть "запрос содержимого". В разделе *"Добавление веб-части поиска контента"* в разделе [Настройка веб-части поиска контента в SharePoint](https://support.office.com/article/Configure-a-Content-Search-Web-Part-in-SharePoint-0dc16de1-dbe4-462b-babb-bf8338c36c9a).
  
## <a name="creating-the-right-search-query-for-your-content-search-web-part"></a>Создание правого запроса поиска для веб-части поиска контента

После добавления веб-части "поиск контента" вы можете уточнить поиск и возвратить нужные элементы. Подробные инструкции по выполнению этой процедуры приведены в разделе *"Отображение содержимого путем настройки расширенного запроса в веб-части" поиск контента "* в SharePoint" [Настройка веб-части "поиск контента" в SharePoint](https://support.office.com/article/Configure-a-Content-Search-Web-Part-in-SharePoint-0dc16de1-dbe4-462b-babb-bf8338c36c9a).
  
## <a name="query-building-and-testing-tool"></a>Средство построения и тестирования запросов

Для создания и тестирования сложных запросов в средстве поиска обратитесь к разделу [поисковый запрос](https://sp2013searchtool.codeplex.com/) на сайте CodePlex. 
  

