---
title: "Разработка сети для Microsoft SaaS"
ms.author: josephd
author: JoeDavies-MSFT
manager: laurawi
ms.date: 12/15/2017
ms.audience: ITPro
ms.topic: conceptual
ms.service: o365-solutions
localization_priority: Normal
ms.collection: Ent_O365
ms.custom: Ent_Architecture
ms.assetid: 4194020a-3847-4259-9f2d-5c556a4510f9
description: "Сводка. В этой статье рассказано, как оптимизировать сеть для доступа к службам SaaS корпорации Майкрософт, в том числе к Office 365, Microsoft Intune и Dynamics 365."
ms.openlocfilehash: 970d27e50e06f4d872de67589295c490aaa6e0e7
ms.sourcegitcommit: 9f1fe023f7e2924477d6e9003fdc805e3cb6e2be
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/11/2018
---
# <a name="designing-networking-for-microsoft-saas"></a>Разработка сети для Microsoft SaaS

 **Сводка.** В этой статье рассказано, как оптимизировать сеть для доступа к службам SaaS корпорации Майкрософт, в том числе к Office 365, Microsoft Intune и Dynamics 365.
  
Оптимизация сети для использования служб Microsoft SaaS требует тщательного анализа характера взаимодействия с Интернетом, клиентских устройств и типичных ИТ-операций.
  
## <a name="steps-to-prepare-your-network-for-microsoft-saas-services"></a>Действия по подготовке сети для служб Microsoft SaaS

Чтобы оптимизировать свою сеть для служб Microsoft SaaS, выполните указанные ниже действия.
  
1. Выполните **действия по подготовке сети для облачных служб (Майкрософт)**, описанные в статье [Общие элементы подключения к облаку Майкрософт](common-elements-of-microsoft-cloud-connectivity.md).
    
2. Оптимизируйте выход в Интернет для служб Microsoft SaaS, используя рекомендации по прокси-серверам.
    
3. Оптимизируйте пропускную способность подключения к Интернету, используя рекомендации касательно близости и расположений.
    
4. Оптимизируйте производительность клиентских компьютеров и интрасети, в которой они расположены, применив рекомендации по использованию клиентов.
    
5. При необходимости оптимизируйте производительность миграций и синхронизации данных, используя рекомендации по ИТ-операциям.
    
## <a name="internet-edge-considerations"></a>Рекомендации по границе Интернета

Ниже перечислен ряд рекомендаций по оптимизации границы Интернета и пропускной способности для служб Microsoft SaaS.
  
**Рис. 1. Варианты подключения для служб Microsoft SaaS**

![Рис. 1. Варианты подключения для служб Microsoft SaaS](images/Network_Poster/SaaS1.png)
  
На рис. 1 показано подключение локальной сети к службам Microsoft SaaS через интернет-канал или ExpressRoute.
  
Рекомендации по оптимизации прокси-сервера:
  
- настраивайте веб-клиенты с помощью WPAD, PAC или GPO;
    
- не используйте перехват SSL;
    
- используйте PAC-файл, чтобы обойти прокси-сервер для DNS-имен службы Microsoft SaaS;
    
- разрешите трафик, чтобы стала возможной проверка с помощью CRL или OCSP.
    
Узкие места прокси-сервера, которые необходимо проверить:
  
- недостаточное количество постоянных подключений (Outlook);
    
- недостаточная мощность;
    
- выполнение оценки вне сети;
    
- требование проверки подлинности;
    
- отсутствие поддержки трафика UDP (Skype для бизнеса).
    
Рекомендации касательно близости и расположения:
  
- не маршрутизируйте интернет-трафик через частную глобальную сеть;
    
- используйте внутрирегиональные DNS и поток интернет-трафика для пользователей из других регионов;
    
- используйте подключение ExpressRoute для увеличения пропускной способности при работе с Office 365 и организации одновременных подключений к службам Azure.
    
Исходящие порты, необходимые для трафика Office 365:
  
- TCP 80 (для проверок CRL и OCSP);
    
- TCP 443;
    
- UDP 3478;
    
- TCP 5223;
    
- TCP 50000-59999;
    
- UDP 50000-59999.
    
## <a name="client-usage-considerations"></a>Рекомендации по использованию клиентов

Прежде всего настройте службы, которые будут использоваться вашими клиентами, например указанные ниже.
  
- Azure Active Directory.
    
- Office 365:
    
  - клиентские приложения Office;
    
  - SharePoint Online;
    
  - Exchange Online;
    
  - Skype для бизнеса.
    
- Microsoft Intune.
    
- Dynamics 365
    
Для клиентских компьютеров определите такие параметры:
  
- максимальное количество одновременно работающих клиентов (в определенное время дня, по сезонам, во время пиков и спадов использования);
    
- общая пропускная способность, необходимая во время пиков;
    
- задержка на устройстве выхода в Интернет;
    
- взаимное расположение страны, в которой вы находитесь, и страны, в которой расположен центр обработки данных.
    
Для каждого типа клиента (ПК, смартфон или планшет) проверьте актуальность таких компонентов:
  
- операционная система;
    
- веб-браузер;
    
- стек TCP/IP;
    
- сетевое оборудование;
    
- драйверы ОС для сетевого оборудования;
    
- наличие обновлений и исправлений.
    
Кроме того, оптимизируйте пропускную способность подключений к интрасети (проводного, беспроводного или VPN).
  
Дополнительные сведения см. в статье [Поддержка NAT в Office 365]((https://support.office.com/article/NAT-support-with-Office-365-170e96ea-d65d-4e51-acac-1de56abe39b9)).
  
Самые актуальные рекомендации по использованию ExpressRoute в Office 365 представлены в статье [Azure ExpressRoute для Office 365]((https://support.office.com/article/Azure-ExpressRoute-for-Office-365-6d2534a2-c19c-4a99-be5e-33a0cee5d3bd)).
  
Чтобы оптимизировать производительность интрасети, выполните указанные ниже действия.
  
- Используйте средства для измерения времени кругового пути до ваших пограничных устройств Интернета (PsPing, Ping, Tracert, TraceTCP, Network Monitor)
    
- Проанализируйте исходящий путь с помощью протоколов потока
    
- Проанализируйте промежуточные устройства (их возраст, работоспособность, и т. д.)
    
Дополнительные сведения см. в статье [Средство PsPing]((https://technet.microsoft.com/sysinternals/jj729731.aspx)).
  
## <a name="it-operations-considerations"></a>Рекомендации по ИТ-операциям

Ниже приведен ряд рекомендаций, касающихся использования рабочих ИТ-нагрузок в службе Microsoft SaaS.
  
### <a name="one-time-migrations"></a>Разовые миграции

Примеры разовых миграций: массовая передача данных в облачные приложения или архивное хранилище.
  
Чтобы оптимизировать сеть для разовых миграций, выполните указанные ниже действия.
  
- Не выполняйте такую миграцию во время пиков использования сети и периодов применения исправлений на компьютерах.
    
- Перед выполнением миграции разработайте базовый план, выполните пилотную миграцию, оцените работоспособность сети и устраните все проблемы.
    
- Проанализируйте причины проблем, чтобы избежать их во время будущих миграций.
    
### <a name="ongoing-synchronizations"></a>Непрерывная синхронизация

Примеры непрерывной синхронизации: синхронизации сведений о каталогах, параметрах или файлах.
  
Чтобы оптимизировать сеть для непрерывной синхронизации, выполните указанные ниже действия.
  
- Убедитесь, что у вас имеется система мониторинга пропускной способности сети, устраните причины ошибок, зарегистрированных этой системой.
    
- Используйте результаты мониторинга полосы пропускания, чтобы определить необходимость изменений сети (горизонтального или вертикального масштабирования, добавления новых линий или устройств).
    
Дополнительные сведения см. в следующих разделах:
  
- [Планирование миграции и использования сети для Office 365]((https://aka.ms/tune))
    
- [Курс Microsoft Virtual Academy по управлению производительностью Office 365]((https://aka.ms/o365perf))
    
- [ExpressRoute для Office 365]((https://aka.ms/expressrouteoffice365))
    
## <a name="see-also"></a>См. также

[Облачные сети Майкрософт для корпоративных архитекторов](microsoft-cloud-networking-for-enterprise-architects.md)
  
[Ресурсы для администраторов, посвященные архитектуре Microsoft Cloud](microsoft-cloud-it-architecture-resources.md)

[Стратегия Enterprise Cloud корпорации Майкрософт: ресурсы для лиц, принимающих решения в области ИТ]((https://sway.com/FJ2xsyWtkJc2taRD))



